{"name":"Texer II - 3D Beat Rings","clearFrame":true,"components":[{"type":"TexerII","group":"Render","imageSrc":"","resizing":true,"wrapAround":false,"colorFiltering":false,"code":{"init":"// This shows how to use texer for 3D particles\r\n// Additive or maximum blend mode should be used\r\nxr=(rand(50)/500)-0.05;\r\nyr=(rand(50)/500)-0.05;\r\nzr=(rand(50)/500)-0.05;","perFrame":"// Rotation along x/y/z axes\r\nxt=xt+xr;yt=yt+yr;zt=zt+zr;\r\n// Shrink rings\r\nbt=max(0,bt*.95+.01);\r\n// Aspect correction\r\nasp=w/h;\r\n// Dynamically adjust particle count based on ring size\r\nn=((bt*40)|0)*3;","onBeat":"// New rotation speeds\r\nxr=(rand(50)/500)-0.05;\r\nyr=(rand(50)/500)-0.05;\r\nzr=(rand(50)/500)-0.05;\r\n// Ring size\r\nbt=1.2;\r\nn=((bt*40)|0)*3;","perPoint":"// 3D object\r\nx1=sin(i*$pi*6)/2*bt;\r\ny1=above(i,.66)-below(i,.33);\r\nz1=cos(i*$pi*6)/2*bt;\r\n\r\n// 3D rotations\r\nx2=x1*sin(zt)-y1*cos(zt);y2=x1*cos(zt)+y1*sin(zt);\r\nz2=x2*cos(yt)+z1*sin(yt);x3=x2*sin(yt)-z1*cos(yt);\r\ny3=y2*sin(xt)-z2*cos(xt);z3=y2*cos(xt)+z2 *sin(xt);\r\n\r\n// 2D Projection\r\niz=1/(z3+2);\r\nx=x3*iz;y=y3*iz*asp;\r\nsizex=iz*2;sizey=iz*2;"}}]}